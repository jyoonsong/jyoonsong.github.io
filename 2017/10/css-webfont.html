<!DOCTYPE html> <html lang="ko_KR"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="keyword" content="송재윤, HCI, CSCW, 연구, 유학, 웹, UI/UX, 인터랙티브, 개발, 스타트업, 서울대, 경영학"> <title>CSS 웹 폰트의 모든 것: 글꼴 로드 최적화하는 방법 | 재윤 블로그</title> <meta name="generator" content="Jekyll v3.6.2"/> <meta property="og:title" content="CSS 웹 폰트의 모든 것: 글꼴 로드 최적화하는 방법"/> <meta name="author" content="jaeyoon"/> <meta property="og:locale" content="ko_KR"/> <meta name="description" content="Font-Face CSS에는 @font-face 라는 CSS at-rule 이 있다. 이는 웹 폰트를 정의하기 위해 CSS2부터 추가된 기능이고, 표시하려 하는 글꼴이 사용자 PC에 설치되지 않은 경우에 웹폰트를 내려받아 표시한다. 1. 특징"/> <meta property="og:description" content="Font-Face CSS에는 @font-face 라는 CSS at-rule 이 있다. 이는 웹 폰트를 정의하기 위해 CSS2부터 추가된 기능이고, 표시하려 하는 글꼴이 사용자 PC에 설치되지 않은 경우에 웹폰트를 내려받아 표시한다. 1. 특징"/> <link rel="canonical" href="http://blog.jaeyoon.io/2017/10/css-webfont.html"/> <meta property="og:url" content="http://blog.jaeyoon.io/2017/10/css-webfont.html"/> <meta property="og:site_name" content="재윤 블로그"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2017-10-06T03:15:30+00:00"/> <script type="application/ld+json">
{"description":"Font-Face CSS에는 @font-face 라는 CSS at-rule 이 있다. 이는 웹 폰트를 정의하기 위해 CSS2부터 추가된 기능이고, 표시하려 하는 글꼴이 사용자 PC에 설치되지 않은 경우에 웹폰트를 내려받아 표시한다. 1. 특징","author":{"@type":"Person","name":"jaeyoon"},"@type":"BlogPosting","url":"http://blog.jaeyoon.io/2017/10/css-webfont.html","headline":"CSS 웹 폰트의 모든 것: 글꼴 로드 최적화하는 방법","dateModified":"2017-10-06T03:15:30+00:00","datePublished":"2017-10-06T03:15:30+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.jaeyoon.io/2017/10/css-webfont.html"},"@context":"http://schema.org"}</script> <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"> <link rel="manifest" href="/manifest.json"> <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#00f0ff"> <meta name="theme-color" content="#000"> <meta property="fb:app_id" content="301590963578753"/> <link rel="stylesheet" href="/assets/main.css"> <link rel="alternate" type="application/rss+xml" title="재윤 블로그" href="/feed.xml"> <script src="https://use.fontawesome.com/1382182da2.js"></script> </head> <body> <header class="site-header" role="banner"> <div class="wrapper"> <div class="col"> <a class="site-title" href="/"> <img src='/assets/img/logo.png' alt="logo"/> </a> <nav class="site-nav"> <input type="checkbox" id="nav-trigger" class="nav-trigger"/> <label for="nav-trigger"> <span class="menu-icon"> </span> </label> <div class="trigger"> <section> <div class="dropdown-wrapper"> <a class="page-link" href="/HCI">HCI</a> <ul class="dropdown"> <li><a href="/연구소개">연구소개</a></li> <li><a href="/유학">유학</a></li> </ul> </div> <div class="dropdown-wrapper"> <a class="page-link" href="/배움">배움</a> <ul class="dropdown"> <li><a href="/개발">개발</a></li> <li><a href="/경영학">경영학</a></li> <li><a href="/독서">독서</a></li> </ul> </div> <div class="dropdown-wrapper"> <a class="page-link" href="/기록">기록</a> <ul class="dropdown"> <li><a href="/생각">생각</a></li> <li><a href="/경험">경험</a></li> </ul> </div> <a class="util-link" href="http://jaeyoon.io"> <u>about</u> </a> <a class="util-link" href="/search"> <u class="hidden-desktop">검색</u> <img src='/assets/img/search.svg' width="15" alt="search"/> </a> </section> <section class="nav-footer hidden-desktop"> <div class="post-subtitle"> <strong>재윤 블로그</strong> <div> <a href="http://jaeyoon.io" target="_blank">포트폴리오 사이트</a> &nbsp; | &nbsp; <a href="https://facebook.com/i.am.jyoon" target="_blank"><i class="fa fa-facebook"></i></a>&nbsp; <a href="https://www.linkedin.com/in/jyoonsong/" target="_blank"><i class="fa fa-linkedin"></i></a>&nbsp; <a href="https://github.com/jyoonsong" target="_blank"><i class="fa fa-github"></i></a>&nbsp; <a href="https://dribbble.com/JaeYoon" target="_blank"><i class="fa fa-dribbble"></i></a>&nbsp; <a href="https://www.instagram.com/jaeyo_on_/" target="_blank"><i class="fa fa-instagram"></i></a> </div> </div> <div class="post-meta">HCI 학도가 생각과 경험을 기록하고 정리하는 공간입니다.</div> </section> </div> </nav> </div> </div> </header> <div id="fb-root"></div> <script async defer crossorigin="anonymous" src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v3.3&appId=301590963578753&autoLogAppEvents=1"></script> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <section class="page-heading"> <div class="wrapper"> <h1 class="page-title" itemprop="name headline">CSS 웹 폰트의 모든 것: 글꼴 로드 최적화하는 방법</h1> <div class="post-meta"> <a href="/배움">배움</a> / <a href="/개발">개발</a> &nbsp;|&nbsp; <time datetime="2017-10-06T03:15:30+00:00" itemprop="datePublished"> 2017.10.06 </time> </div> </div> </section> <main class="page-content" aria-label="Content"> <div class="wrapper"> <div class="post-content" itemprop="articleBody"> <h4 id="font-face">Font-Face</h4> <p>CSS에는 <code class="highlighter-rouge">@font-face</code> 라는 CSS at-rule 이 있다. 이는 웹 폰트를 정의하기 위해 CSS2부터 추가된 기능이고, 표시하려 하는 글꼴이 사용자 PC에 설치되지 않은 경우에 웹폰트를 내려받아 표시한다.</p> <p><strong>1. 특징</strong></p> <ul> <li> <p><strong>하나의 글꼴엔 @font-face 규칙 한 번만 선언한다</strong></p> <p>불필요한 요청의 원인이 된다. 원인은 <a href="https://www.paulirish.com/2009/bulletproof-font-face-implementation-syntax/">여기</a> 참고</p> </li> <li> <p><strong>IE9의 경우 @media 내부에 허용 안됨</strong></p> <p>IE9의 문제같지만 사실 CSS 2.1. 명세에 따르면 유효하지 않다고 나와 있음. IE9만 이를 잘 따른 것이었다. 미디어 쿼리는 실제 요소에 적용시킬 때 사용한다.</p> <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@media</span> <span class="n">all</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span><span class="m">768px</span><span class="p">)</span> <span class="p">{</span>
	<span class="nt">body</span> <span class="p">{</span><span class="nl">font-family</span><span class="p">:</span> <span class="err">나눔고딕</span><span class="p">,</span> <span class="n">NanumGothic</span><span class="p">,</span> <span class="n">ng</span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div> </div> </li> </ul> <p><br/></p> <p><strong>2. 지원 글꼴 확장자</strong></p> <ul> <li><code class="highlighter-rouge">.woff</code> - W3C 권장 형식. IE6~8을 제외한 대부분의 브라우저가 지원. IE도 9부터는 지원.</li> <li><code class="highlighter-rouge">.eot</code> - IE만 지원한다. Chrome, Safari, Firefox, Opera는 woff만 지원하고 eot는 미지원한다.</li> </ul> <p><br/></p> <p><strong>3. 구성</strong></p> <ul> <li><code class="highlighter-rouge">font-family</code> - 사용할 폰트의 이름을 선언. 실제 이름이 뭐든 아무거나 지정해줘도 되지만 유지보수를 위해 되도록 잘 적어주자. 또 IE11 이하에서는 31자 이상은 적용 안됨.</li> <li><code class="highlighter-rouge">src</code> - 폰트 파일의 경로를 적어주는 곳. 브라우저는 적용할 수 있는 폰트를 찾을 때까지 선언한 순서대로 이동하기 때문에 local을 반드시 위에 적어주어야 한다. <ul> <li><code class="highlighter-rouge">local(글꼴명)</code> - 로컬에 이미 설치된 폰트를 불러올 때.</li> <li><code class="highlighter-rouge">url(글꼴명)</code> - 다운로드할 웹폰트의 주소를 적을 때.</li> </ul> </li> </ul> <p><br/></p> <p><strong>4. 순서</strong></p> <p>아래와 같은 순서를 지켜주는 것이 바람직하다.</p> <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@font-face</span> <span class="p">{</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="n">ng</span><span class="p">;</span> 
  <span class="nl">src</span><span class="p">:</span> <span class="n">local</span><span class="p">(</span><span class="n">NanumGothic</span><span class="p">);</span> <span class="c">/* 외부자원 참조 전에 시스템 글꼴을 우선 참조 */</span>
  <span class="nl">src</span><span class="p">:</span> <span class="sx">url(NanumSquareR.eot)</span><span class="p">;</span>  <span class="c">/* here you go, IE */</span>
  <span class="nl">src</span><span class="p">:</span> <span class="n">local</span><span class="p">(</span><span class="err">@</span><span class="p">),</span> <span class="sx">url(NanumSquareR.woff)</span> <span class="n">format</span><span class="p">(</span><span class="s2">'woff'</span><span class="p">),</span> <span class="c">/* everyone else take this */</span>
       <span class="sx">url(NanumSquareR.ttf)</span><span class="p">;</span> <span class="c">/* 다섯번째 */</span>
<span class="p">}</span>
</code></pre></div></div> <ul> <li> <p><strong>eot가 woff 앞에</strong></p> <p>IE9+, 크롬, 사파리, 파폭, 오페라는 eot 글꼴에 대한 <code class="highlighter-rouge">format('embedded-opentype')</code> 선언을 굳이 안 써줘도, 영리하게도 eot 글꼴은 내려받지 않는다. 반면 IE6~8은 <code class="highlighter-rouge">format('woff')</code>를 해줘도 바보같이 woff 파일까지 내려받아버리기 때문에 eot를 woff 앞에 써준다</p> </li> <li> <p><strong>local(@) Bulletproof</strong></p> <p>이 앞에 <code class="highlighter-rouge">local(@)</code>을 적어주면, <code class="highlighter-rouge">local()</code> 값을 처리하지 못하는 특성상 woff 글꼴을 추가로 요청하지 않고 해당 줄을 무시하게 된다. <code class="highlighter-rouge">@</code>는 시스템에 존재하지 않을 만한 걸 임의로 적어준 것이다.혹시나 해당 문자열의 이름을 가진 글꼴이 존재해서 적용되면 큰일이니깐. 특히 2byte 짜리 문자열은 Mac OS에서 아예 시스템 글꼴 이름으로 처리하지 않는다.</p> </li> <li> <p><strong>format()</strong></p> <p>해당 형식을 지원하는 브라우저만 글꼴을 내려받도록 해준다. 값은 반드시 따옴표 안에 있어야 하며, 작성하지 않는 경우 지원 여부에 무관하게 모든 형식의 글꼴을 모든 형식의 글꼴이 내려받아지는 것이 원칙이다. 다만 위에서도 말했듯 대부분의 브라우저가 eot 글꼴은 무시하고, IE7~8은 이 코드를 해석하지 못한다.</p> </li> </ul> <p><br/></p> <p><strong>5. 사용</strong></p> <p>실제 CSS 파일에서는 위에서 선언한 font-family 이름을 사용하면 된다. 한글 이름으로 되는 경우도 있으므로 한글도 함께 써준다. 아래 코드에서는 앞 세 개가 제대로 작동 안하면 맥의 경우 디폴트 폰트인 애플고딕이 적용된다.</p> <div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="err">나눔고딕</span><span class="o">,</span> <span class="n">NanumGothic</span><span class="o">,</span> <span class="n">ng</span><span class="o">,</span> <span class="n">Apple</span> <span class="n">Gothic</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <hr/> <p><br/></p> <h4 id="google-fonts">Google Fonts</h4> <p>구글 폰트의 경우 로드할 수 있는 방법이 CSS 파일 내부의 <code class="highlighter-rouge">@import</code> , HTML 파일 내부의 <code class="highlighter-rouge">&lt;link&gt;</code> 태그, JS 로딩 세 가지이다. 이중 가장 빠른 방법은 <code class="highlighter-rouge">link</code> 코드를 이용하는 것이다.</p> <ul> <li> <p><strong>폰트의 코드는 하나로 합쳐라</strong></p> <p>코드 한 줄에 <code class="highlighter-rouge">|</code>로 나누어 여러 폰트를 한 번에 로드할 수 있다. 예컨대 Open Sans와 Oswald 폰트를 불러올 때에는 아래와 같은 한 줄만 head 안에 추가해 주면 된다.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">'http://fonts.googleapis.com/css?family=Open+Sans|Oswald'</span> <span class="na">rel=</span><span class="s">'stylesheet'</span> <span class="na">type=</span><span class="s">'text/css'</span><span class="nt">&gt;</span>
</code></pre></div> </div> </li> <li> <p><strong>여러 옵션은 여러 폰트나 마찬가지</strong></p> <p>한 폰트의 굵기를 300부터 800까지 모조리 다 다운로드하는 것은 서로 다른 6가지 폰트를 로드하는 것과 마찬가지이다. 최소한만 선택적으로 가져오는 것이 좋다.</p> </li> <li> <p><strong>Load Time를 확인하라</strong></p> <p>구글 폰트 페이지에서는 폰트를 선택한 장바구니에서 로딩 시간을 slow, moderate, fast로 표시해주고 있다. 또 개발자도구 Network에서 체크하는 것도 필요하다.</p> </li> <li> <p><strong>Web Font Loader 을 사용하라</strong></p> <p>FOUT(Flash of Unstyled Text) 혹은 FOIT(Flash of Invisible Text)를 방지하는 데 최후의 방책이다. 아래와 같은 코드를 추가해주면 CSS 로드 전에 구글 폰트가 로드되도록 확실히 설정해준다.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="nx">WebFont</span><span class="p">.</span><span class="nx">load</span><span class="p">({</span>
    <span class="na">google</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">families</span><span class="p">:</span> <span class="p">[</span><span class="s1">'Open Sans'</span><span class="p">,</span> <span class="s1">'Oswald'</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div> </div> <p><br/></p> </li> </ul> <h4 id="ref">Ref</h4> <p>https://nolboo.kim/blog/2013/10/22/google-web-font-faster-tip/<br/> https://css-tricks.com/fout-foit-foft/<br/> https://www.paulirish.com/2009/bulletproof-font-face-implementation-syntax/</p> </div> <div class="post-share"> <div class="post-share-content hidden-tablet"> <h4><strong>글 정보</strong></h4> <div class="post-subtitle">CSS 웹 폰트의 모든 것: 글꼴 로드 최적화하는 방법 - 간단하게 FOUT(Flash of Unstyled Text) 방지하기</div> <div class="post-meta">2017.10.06</div> </div> <div class="post-share-content"> <h4><strong>태그</strong></h4> <div class="tag">css</div> </div> <div class="post-share-content"> <h4><strong>공유하기</strong></h4> <div class="fb-like" style="line-height: 0.8" data-href="http://blog.jaeyoon.io/2017/10/css-webfont.html" data-layout="button_count" data-action="like" data-size="small" data-show-faces="true" data-share="false"></div> &nbsp; <div class="post-share-btns"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://blog.jaeyoon.io/2017/10/css-webfont.html" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"> <i class="fa fa-2x fa-facebook-square"></i> </a> <a href="https://twitter.com/intent/tweet?text=CSS 웹 폰트의 모든 것: 글꼴 로드 최적화하는 방법&url=http://blog.jaeyoon.io/2017/10/css-webfont.html" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"> <i class="fa fa-2x fa-twitter-square"></i> </a> <a href="https://plus.google.com/share?url=http://blog.jaeyoon.io/2017/10/css-webfont.html" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Google+"> <i class="fa fa-2x fa-google-plus-square"></i> </a> <a href="http://pinterest.com/pin/create/button/?url=http://blog.jaeyoon.io/2017/10/css-webfont.html" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Pinterest"> <i class="fa fa-2x fa-pinterest-square"></i> </a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://blog.jaeyoon.io/2017/10/css-webfont.html&title=CSS 웹 폰트의 모든 것: 글꼴 로드 최적화하는 방법&summary=&source=재윤 블로그" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"> <i class="fa fa-2x fa-linkedin-square"></i> </a> </div> </div> </div> <div class="post-comment"> <div class="fb-comments" data-href="http://blog.jaeyoon.io/2017/10/css-webfont.html" data-width="100%" data-numposts="5"></div> </div> </div> </main> </article> <footer class="site-footer"> <div class="wrapper"> <div class="post-subtitle"> <strong>재윤 블로그</strong> <div> <a href="http://jaeyoon.io" target="_blank">포트폴리오 사이트</a> &nbsp; | &nbsp; <a href="https://facebook.com/i.am.jyoon" target="_blank"><i class="fa fa-facebook"></i></a>&nbsp; <a href="https://www.linkedin.com/in/jyoonsong/" target="_blank"><i class="fa fa-linkedin"></i></a>&nbsp; <a href="https://github.com/jyoonsong" target="_blank"><i class="fa fa-github"></i></a>&nbsp; <a href="https://dribbble.com/JaeYoon" target="_blank"><i class="fa fa-dribbble"></i></a>&nbsp; <a href="https://www.instagram.com/jaeyo_on_/" target="_blank"><i class="fa fa-instagram"></i></a> </div> </div> <div class="post-meta">HCI 학도가 생각과 경험을 기록하고 정리하는 공간입니다.</div> </div> </footer> <script src="/assets/js/plugins.js"></script> <script src="/assets/js/main.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113321077-2"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-113321077-2");</script> </body> </html>